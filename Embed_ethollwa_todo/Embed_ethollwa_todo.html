<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>待办事项</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
				min-height: 100vh;
				min-width: 100vw;
				background: rgba(0, 0, 0, 0);
				background-size: 400% 400%;
				animation: gradientBG 5s ease infinite;
				display: flex;
				justify-content: center;
				align-items: center;
				position: relative;
				overflow: hidden;
				color: rgba(0, 0, 0, 0.95);
				padding: 20px;
			}

			@keyframes gradientBG {
				0% {
					background-position: 0% 50%;
				}
				50% {
					background-position: 100% 50%;
				}
				100% {
					background-position: 0% 50%;
				}
			}

			.todo-container {
				width: 100%;

				min-height: 90vh;
				max-height: 90vh;
				border-radius: 30px;
				background: rgba(255, 255, 255, 0.9);
				backdrop-filter: blur(55px);
				-webkit-backdrop-filter: blur(15px);
				box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5),
					0 0 0 1px rgba(255, 255, 255, 0.102);
				padding: 2rem;
				position: relative;
				overflow: hidden;
			}

			.todo-header {
				text-align: center;
				margin-bottom: 2rem;
				padding-bottom: 1rem;
				border-bottom: 1px solid rgba(255, 255, 255, 0.312);
			}

			.todo-title {
				font-size: 2.5rem;
				font-weight: 700;
				margin-bottom: 0.5rem;
				background: linear-gradient(to right, #2b2b2b, #2b2b2b);
				-webkit-background-clip: text;
				background-clip: text;
				color: transparent;
				text-shadow: 0 2px 10px rgba(255, 255, 255, 0.1);
				transition: all 0.3s ease;
			}
			.todo-title:hover {
				color: rgba(0, 0, 0, 1);
				transform: translateY(-5px);
				text-shadow: 0px 5px 15px rgba(0, 0, 0, 0.4);
			}

			.todo-count {
				font-size: 1.1rem;
				font-weight: 300;
				opacity: 0.8;
				transition: all 0.3s ease;
			}
			.todo-count:hover {
				color: rgba(0, 0, 0, 1);
				transform: translateY(-2px);
				text-shadow: 0px 5px 15px rgba(0, 0, 0, 0.4);
			}

			.add-todo {
				position: absolute;
				top: 2rem;
				left: 2rem;
			}

			.add-button {
				background: rgba(255, 255, 255, 0.15);
				border: none;
				width: 3rem;
				height: 3rem;
				border-radius: 30%;
				color: rgb(0, 0, 0);
				font-size: 1.5rem;
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s ease;
				backdrop-filter: blur(5px);
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
			}

			.add-button:hover {
				background: rgba(255, 255, 255, 0.4);
				transform: translateY(-8px) scale(1.15);
			}

			.todo-input-form {
				position: sticky;
				top: 4.5rem;
				right: 1rem;
				min-width: 100%;
				min-height: 30%;
				background: rgba(0, 0, 0, 0);
				backdrop-filter: blur(10px);
				border-radius: 30px;
				padding: 1rem 1.5rem;
				box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
				display: active;
				align-items: center;
				gap: 0.8rem;
				transition: all 0.3s ease;
				z-index: 10;
				animation: Floating 0.5s ease;
			}
			@keyframes Floating {
				0% {
					transform: translateX(-1000px);
					box-shadow: 0 0 0 rgba(0, 0, 0, 0);
				}
				70% {
					transform: translateX(50px);
					box-shadow: 0 0 0 rgba(0, 0, 0, 0);
				}
				100% {
					transform: translateX(0);
					box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
				}
			}
			.todo-input {
				position: sticky;
				background: rgba(255, 255, 255, 0.2);
				border: none;
				padding: 0.8rem 1.2rem;
				border-radius: 50px;
				color: rgb(0, 0, 0);
				font-size: 1rem;
				width: 250px;
				transition: all 0.3s ease;
			}

			.todo-input::placeholder {
				color: rgba(0, 0, 0, 0.6);
			}

			.todo-input:focus {
				outline: none;
				background: rgba(255, 255, 255, 0.3);
				width: 300px;
			}

			.todo-input:hover {
				transform: translateY(-2px);
				transform: scale(1.02);
			}

			.submit-button {
				background: rgba(255, 255, 255, 0.2);
				border: none;
				color: rgb(0, 0, 0);
				padding: 0.8rem 1.5rem;
				border-radius: 50px;
				cursor: pointer;
				transition: all 0.3s ease;
			}

			.submit-button:hover {
				transform: translateY(-5px);
				background: rgba(255, 255, 255, 0.3);
			}

			.todo-list {
				justify-content: center;
				list-style: none;
				margin-top: 0rem;
				max-height: none;
				overflow-y: auto;
				padding-right: 15px;
				padding-left: 15px;
				max-height: 60vh;
				overflow-y: auto;
			}

			.todo-list::-webkit-scrollbar {
				width: 6px;
			}

			.todo-list::-webkit-scrollbar-track {
				background: rgba(255, 255, 255, 0.05);
				border-radius: 10px;
			}

			.todo-list::-webkit-scrollbar-thumb {
				background: rgba(255, 255, 255, 0.15);
				border-radius: 10px;
			}

			.todo-item {
				z-index: 10;
				display: flex;
				align-items: center;
				min-width: 100%;
				gap: 1rem;
				background: rgba(255, 255, 255, 0.08);
				border-radius: 30px;
				padding: 1.2rem 1.5rem;
				margin-bottom: 1rem;
				transition: all 0.3s ease;
				animation: fadeIn 0.5s ease;
				box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
			}

			@keyframes fadeIn {
				from {
					scale: 0.99;
					opacity: 0.8;
					transform: translateY(-5px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.todo-item:hover {
				background: rgba(255, 255, 255, 0.12);
				transform: translateY(-5px);
				box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.4);
			}

			.todo-checkbox {
				width: 22px;
				height: 22px;
				border-radius: 50%;
				border: 2px solid rgba(113, 113, 113, 0.7);
				display: flex;
				align-items: center;
				justify-content: center;
				cursor: pointer;
				transition: all 0.3s ease;
				flex-shrink: 0;
			}
			.todo-checkbox:hover {
				color: rgb(0, 0, 0);
				transform: translateY(-5px);
				box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.6);
			}

			.todo-checkbox.checked {
				background: rgba(255, 255, 255, 0.8);
				border-color: rgba(255, 255, 255, 0.8);
			}

			.todo-text {
				padding-left: 0.5rem;
				font-size: 2rem;
				transition: all 0.3s ease;
				flex-grow: 1;
			}
			.todo-text:hover {
				color: rgba(0, 0, 0, 0.8);
				transform: translateY(-2px) scale(1.02);
				font-weight: 500;
				text-shadow: 0px 5px 15px rgba(255, 255, 255, 0.4);
			}

			.todo-item.completed .todo-text {
				text-decoration: line-through;
				opacity: 0.6;
			}

			.delete-button {
				background: none;
				border: none;
				color: rgba(0, 0, 0, 0.5);
				cursor: pointer;
				font-size: 2rem;
				transition: all 0.3s ease;
				opacity: 0;
				flex-shrink: 0;
			}

			.todo-item:hover .delete-button {
				opacity: 1;
			}

			.delete-button:hover {
				color: rgb(0, 0, 0);
				transform: translateY(-5px);
				text-shadow: 0px 5px 15px rgba(0, 0, 0, 0.6);
			}

			.empty-state {
				text-align: center;
				padding: 4rem 2rem;
				opacity: 0.7;
			}

			.empty-icon {
				font-size: 4rem;
				margin-bottom: 1.5rem;
				opacity: 0.5;
			}

			.empty-text {
				font-size: 1.2rem;
				font-weight: 300;
			}

			.blur-circles {
				position: absolute;
				width: 500px;
				height: 500px;
				border-radius: 50%;
				filter: blur(100px);
				z-index: -1;
			}

			.circle1 {
				background: rgba(106, 137, 204, 0.4);
				top: -200px;
				right: -100px;
			}

			.circle2 {
				background: rgba(76, 209, 96, 0.3);
				bottom: -150px;
				left: -150px;
				width: 400px;
				height: 400px;
			}

			/* Settings Panel Styles */
			.settings-button {
				position: sticky;
				margin-right: auto;
				justify-content: center;
				background: rgba(255, 255, 255, 0);
				border: none;
				width: 3rem;
				height: 3rem;
				border-radius: 30%;
				color: rgb(0, 0, 0);
				font-size: 1.5rem;
				cursor: pointer;
				display: flex;
				align-items: center;
				transition: all 0.3s ease;
				backdrop-filter: blur(0px);
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0);
			}

			.settings-button:hover {
				background: rgba(255, 255, 255, 0);
				transform: rotate(1080deg) scale(1.45);
			}

			/* Settings Panel Style */
			.settings-panel {
				position: absolute;
				top: 5rem;
				right: 2rem;
				width: 300px;
				padding: 1rem;
				background: rgba(255, 255, 255, 0.8);
				border-radius: 10px;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
				z-index: 100;
			}

			.settings-panel h2 {
				margin-top: 0;
				margin-bottom: 1rem;
				font-size: 1.5rem;
			}

			.settings-panel div {
				margin-bottom: 0.5rem;
			}

			.settings-panel label {
				display: block;
				font-size: 1rem;
				margin-bottom: 0.2rem;
			}

			.settings-panel input[type="number"],
			.settings-panel input[type="color"],
			.settings-panel input[type="range"] {
				width: 100%;
				padding: 0.5rem;
				border-radius: 5px;
				border: 1px solid #ddd;
			}

			.settings-panel button {
				background-color: #007bff;
				color: white;
				border: none;
				padding: 0.6rem 1rem;
				border-radius: 5px;
				cursor: pointer;
				transition: background-color 0.3s ease;
			}

			.settings-panel button:hover {
				background-color: #0056b3;
			}
		</style>
	</head>
	<body>
		<!-- 背景模糊效果圆圈 -->
		<!--
    <div class="blur-circles circle1"></div>
    <div class="blur-circles circle2"></div>
    -->
		<div class="todo-container">
			<div class="todo-header">
				<h1 class="todo-title">待办</h1>
				<div class="todo-count">
					已完成 <span id="completedCount">0</span> / 总计
					<span id="totalCount">0</span>
				</div>
			</div>

			<div class="add-todo">
				<button class="add-button" id="addButton">+</button>
				<div class="settings-button" id="settingsButton">⚙</div>
			</div>

			<form class="todo-input-form" id="todoForm" style="display: none">
				<input
					type="text"
					class="todo-input"
					id="todoInput"
					placeholder="添加新的待办事项..."
				/>

				<button type="submit" class="submit-button">添加</button>
			</form>

			<ul class="todo-list" id="todoList">
				<!-- 待办事项将通过JavaScript动态添加 -->
				<div class="empty-state" id="emptyState">
					<div class="empty-icon">·</div>
					<div class="empty-text">点击右上角的+添加待办事项</div>
				</div>
			</ul>
		</div>

		<!-- Settings Button -->

		<!-- Settings Panel -->
		<div class="settings-panel" id="settingsPanel" style="display: none">
			<h2>Settings</h2>
			<div>
				<label for="titleFontSize">Title Font Size:</label>
				<input type="number" id="titleFontSize" value="2.5" />
			</div>
			<div>
				<label for="titleColor">Title Color:</label>
				<input type="color" id="titleColor" value="#2b2b2b" />
			</div>
			<div>
				<label for="containerColor">Container Color:</label>
				<input type="color" id="containerColor" value="#f0f0f0" />
			</div>
			<div>
				<label for="containerOpacity">Container Opacity:</label>
				<input
					type="range"
					id="containerOpacity"
					min="0"
					max="1"
					step="0.01"
					value="1"
				/>
			</div>
			<button id="applySettings">Apply</button>
		</div>

		<script>
			// 获取DOM元素
			const addButton = document.getElementById("addButton");
			const todoForm = document.getElementById("todoForm");
			const todoInput = document.getElementById("todoInput");
			const todoList = document.getElementById("todoList");
			const emptyState = document.getElementById("emptyState");
			const completedCountEl = document.getElementById("completedCount");
			const totalCountEl = document.getElementById("totalCount");

			// 待办事项数据
			let todos = [];

			// 初始化
			function init() {
				// 从本地存储加载待办事项
				const savedTodos = localStorage.getItem("todos");
				if (savedTodos) {
					todos = JSON.parse(savedTodos);
					renderTodos();
					updateCounts();
				}
			}

			// 切换添加待办事项表单的显示状态
			addButton.addEventListener("click", () => {
				todoForm.style.display =
					todoForm.style.display === "none" ? "flex" : "none";
				if (todoForm.style.display !== "none") {
					todoInput.focus();
				}
			});

			// 提交表单添加待办事项
			todoForm.addEventListener("submit", (e) => {
				e.preventDefault();
				const text = todoInput.value.trim();
				if (text) {
					addTodo(text);
					todoInput.value = "";
					todoForm.style.display = "none";
				}
			});

			// 添加新的待办事项
			function addTodo(text) {
				const newTodo = {
					id: Date.now(),
					text: text,
					completed: false,
				};

				todos.unshift(newTodo); // 添加到数组开头
				saveTodos();
				renderTodos();
				updateCounts();
			}

			// 切换待办事项的完成状态
			function toggleTodo(id) {
				const todo = todos.find((t) => t.id === id);
				if (todo) {
					todo.completed = !todo.completed;
					saveTodos();
					renderTodos();
					updateCounts();
				}
			}

			// 删除待办事项
			function deleteTodo(id) {
				todos = todos.filter((todo) => todo.id !== id);
				saveTodos();
				renderTodos();
				updateCounts();
			}

			// 渲染待办事项列表
			function renderTodos() {
				// 清空列表
				todoList.innerHTML = "";

				// 检查是否有数据
				if (todos.length === 0) {
					todoList.appendChild(emptyState);
					return;
				}

				// 隐藏空状态
				emptyState.remove();

				// 添加所有待办事项
				todos.forEach((todo) => {
					const li = document.createElement("li");
					li.className = `todo-item ${todo.completed ? "completed" : ""}`;
					li.innerHTML = `
                    <div class="todo-checkbox ${
											todo.completed ? "checked" : ""
										}" data-id="${todo.id}">
                        ${todo.completed ? "✓" : ""}
                    </div>
                    <div class="todo-text">${todo.text}</div>
                    <button class="delete-button" data-id="${
											todo.id
										}">×</button>
                `;
					todoList.appendChild(li);
				});

				// 添加事件监听器
				document.querySelectorAll(".todo-checkbox").forEach((checkbox) => {
					checkbox.addEventListener("click", () => {
						const id = parseInt(checkbox.getAttribute("data-id"));
						toggleTodo(id);
					});
				});

				document.querySelectorAll(".delete-button").forEach((button) => {
					button.addEventListener("click", () => {
						const id = parseInt(button.getAttribute("data-id"));
						deleteTodo(id);
					});
				});
			}

			// 更新计数
			function updateCounts() {
				const completedCount = todos.filter((todo) => todo.completed).length;
				const totalCount = todos.length;
				completedCountEl.textContent = completedCount;
				totalCountEl.textContent = totalCount;
			}

			// 保存待办事项到本地存储
			function saveTodos() {
				localStorage.setItem("todos", JSON.stringify(todos));
			}

			// 初始化应用
			init();
		</script>
		<script>
			// Get the settings button and panel elements
			const settingsButton = document.getElementById("settingsButton");
			const settingsPanel = document.getElementById("settingsPanel");
			const applySettingsButton = document.getElementById("applySettings");

			// Get the input elements
			const titleFontSizeInput = document.getElementById("titleFontSize");
			const titleColorInput = document.getElementById("titleColor");
			const containerColorInput = document.getElementById("containerColor");
			const containerOpacityInput = document.getElementById("containerOpacity");

			// Add event listener to the settings button to toggle the panel
			settingsButton.addEventListener("click", () => {
				settingsPanel.style.display =
					settingsPanel.style.display === "none" ? "block" : "none";
			});

			// Function to apply the settings
			function applySettings() {
				const titleFontSize = titleFontSizeInput.value;
				const titleColor = titleColorInput.value;
				const containerColor = containerColorInput.value;
				const containerOpacity = containerOpacityInput.value;

				// Apply settings to the elements
				document.querySelector(
					".todo-title"
				).style.fontSize = `${titleFontSize}rem`;
				document.querySelector(".todo-title").style.color = titleColor;
				document.querySelector(".todo-container").style.backgroundColor =
					containerColor;
				document.querySelector(".todo-container").style.opacity =
					containerOpacity;

				// Hide the settings panel after applying settings
				settingsPanel.style.display = "none";
			}

			// Add event listener to the apply settings button
			applySettingsButton.addEventListener("click", applySettings);
		</script>
	</body>
</html>
